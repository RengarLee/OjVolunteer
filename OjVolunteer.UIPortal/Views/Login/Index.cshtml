@{
    Layout = null;
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    @Styles.Render("~/Content/oj/css")
    @Styles.Render("~/Content/layui/css")
</head>
<body>
    <div class="login-content conter-block">
        <p class="lg-title">登录</p>
        @using (Ajax.BeginForm("ProcessLogin", "Login", new AjaxOptions() { OnSuccess = "afterLogin" }, new { @class = "layui-form" }))
        {
            <input type="text" name="LoginCode" class="forminput clearfix" placeholder="请输入帐号" lay-verify="required">
            <input type="password" name="LoginPwd" class="forminput clearfix" placeholder="请输入密码（6-18位）" lay-verify="required">
            <button type="submit" class="btn btn-success" id="loginbtn" lay-submit>登录</button>
            <a href="/Register">快速注册></a>
        }
    </div>

    @Scripts.Render("~/Content/layui/js")
    @Scripts.Render("~/Content/oj/js")
    @Scripts.Render("~/Scripts/Ajax")
    <script type="text/javascript">
        if (window.parent.window != window) {
            window.top.location.href = "/Login/Index";
        }
        function afterLogin(data) {
            if (data == "userinfo") {
                window.top.location.href = "/UserInfo/Index";
            } else if (data == "OrganizeInfo") {
                window.top.location.href = "/OrganizeInfo/Index";
            } else if (data == "fail") {
                alert("密码错误，请重新输入！");
            }
        }
    </script>
</body>
</html>

